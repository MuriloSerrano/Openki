<template name="courseCompact">
	{{#if ready}}
		<div class="course-compact-wrap">
			<a href="{{pathFor 'showCourse'}}">
				<div class="course-compact
				     course-compact-category-{{courseCategoryIdentifier}}
				     {{courseState}}
				     {{filterPreviewClasses}}">
					<div class="course-compact-content">
						<div class="course-compact-title">
							<h4>{{name}}</h4>
						</div>
						<div class="course-compact-categories">
							{{#each mainCategories 4}}
								<span class="fa fa-{{icon}} {{#if multipleMainCategories}}category-{{categoryIdentifier}}{{/if}}" aria-hidden="true"></span>
							{{/each}}
						</div>
						{{#unless spaceForGrouplist}}
							{{> groupList}}
						{{/unless}}
					</div>
					{{#if nextEvent}}
						{{> courseCompactEvent}}
					{{else}}
						{{> courseCompactRoles}}
					{{/if}}
					{{#if spaceForGrouplist}}
						{{> groupList}}
					{{/if}}
				</div>
			</a>
		</div>
	{{/if}}
</template>

<template name="courseCompactEvent">
	<div class="course-compact-next-event">
		{{#with nextEvent}}
			<div class="course-compact-next-event-date">
				<span class="fa fa-calendar fa-fw"
				      aria-hidden="true"></span>
				{{dateformat_mini start}}
			</div>
			<div class="course-compact-next-event-time">
				<span class="fa fa-clock-o fa-fw"
				      aria-hidden="true"></span>
				{{timeformat start}}
			</div>
			{{#if venue.name}}
				<div class="course-compact-next-event-venue">
					<span class="glyphicon glyphicon-home fa-fw"
					      aria-hidden="true">
					</span>
					{{venue.name}}
				</div>
			{{/if}}
		{{/with}}
	</div>
</template>

<template name="courseCompactRoles">
	<div class="course-compact-roles max-{{maxRoles}}-roles">
		<div class="course-compact-role {{roleStateClass 'team'}}">
			<span class="{{roleIcon 'team'}}"
			      aria-hidden="true">
			</span>
		</div>
		{{#if requiresRole 'mentor'}}
			<div class="course-compact-role {{roleStateClass 'mentor'}}">
				<span class="{{roleIcon 'mentor'}}"
				      aria-hidden="true">
				</span>
			</div>
		{{/if}}
		{{#if requiresRole 'host'}}
			<div class="course-compact-role {{roleStateClass 'host'}}">
				<span class="{{roleIcon 'host'}}"
				      aria-hidden="true">
				</span>
			</div>
		{{/if}}
	</div>
</template>
